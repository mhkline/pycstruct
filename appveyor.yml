version: 0.1.0.{build}

environment:
  PYTHONUNBUFFERED: 1
  matrix:
    - PYTHON_VERSION: "35"
      EXPORT_COVERAGE: "True" # Only export coverage in this version
    #- PYTHON_VERSION: "36"
    #- PYTHON_VERSION: "37"

init:
- SET PYTHON=Python%PYTHON_VERSION%
- SET PATH=C:\%PYTHON%;C:\Users\appveyor\AppData\Roaming\Python\%PYTHON%\Scripts;%PATH%
- python -V

build: off

install:
- python -m pip install -U --user pip
- python -m pip install -U --user tox
- python -m pip install -U --user coverage==4.5.4
- python -m pip install -U --user python-coveralls

test_script:
- tox -e py%PYTHON_VERSION%

after_test:
- ps: >-
    if($env:EXPORT_COVERAGE -Match "True"){
      coveralls
    }


